(function(e,t){window.DomViewCollection=function(n){n=e.extend({},window.DomViewCollection.defaults,n);this._elements=[];this.options=n;n.init.call(this);var r=n.elements===t||n.elements===null?[]:n.elements;for(var i=0;i<r.length;i++){this.add(r[i],this)}};e.extend(window.DomViewCollection.prototype,{get:function(){return this._elements.slice(0)},getMapped:function(){return e(this.get()).map(function(){return this instanceof jQuery?this.toArray():this})},count:function(){return this._elements.length},insert:function(e,n,r){if(e<0||e>this._elements.length){return t}var i=this._elements.length===0;if(i&&this.options.filling.call(this,r)===false){return t}if(this.options.adding.call(this,n,e,this._elements.length,r)===false){return t}var s=this.options.project.call(this,n);n=s===t||s===null?n:s;this._elements.splice(e,0,n);this.options.added.call(this,n,e,this._elements.length,r);if(i){this.options.filled.call(this,r)}return n},add:function(e,t){return this.insert(this._elements.length,e,t)},addMany:function(t,n){if(!e.isArray(t)){throw"Must provide an array"}for(var r=0;r<t.length;r++){this.add(t[r],n)}},removeAtIndex:function(e,n){if(e<0||e>=this._elements.length){return t}var r=this._elements.length===1;if(r&&this.options.emptying.call(this,n)===false){return t}if(this.options.removing.call(this,this._elements[e],e,this._elements.length,n)===false){return t}var i=this._elements.splice(e,1);this.options.removed.call(this,i[0],e,this._elements.length,n);if(r){this.options.emptied.call(this,n)}return i},remove:function(e,t){return this.removeAtIndex(this._elements.indexOf(e),t)},removeMany:function(t,n){if(!e.isArray(t)){throw"Must provide an array"}for(var r=0;r<t.length;r++){this.remove(t[r],n)}},clear:function(e){var n=this._elements.length>0;var r=this.get();if(n&&this.options.emptying.call(this,this._elements.length,e)===false){return t}if(this.options.clearing.call(this,this._elements.length,e)===false){return t}this._elements.length=0;this.options.cleared.call(this,e);if(n){this.options.emptied.call(this,e)}return r}});window.DomViewCollection.defaults={elements:[],init:e.noop,adding:e.noop,project:e.noop,added:e.noop,removing:e.noop,removed:e.noop,clearing:e.noop,cleared:e.noop,filling:e.noop,filled:e.noop,emptying:e.noop,emptied:e.noop}})(jQuery)